"use client"

import { FC } from "react";
import { constants } from "@/app/constants";
import { Prism as SyntaxHighlighter } from 'react-syntax-highlighter';
import { oneDark, oneLight } from 'react-syntax-highlighter/dist/esm/styles/prism';
import { useTheme } from "next-themes";


type ExploitCardProps = {
    exploit: Exploit
}

const ExploitCard: FC<ExploitCardProps> = ({exploit}): JSX.Element => {
    const exploitRaw: string = atob(exploit.exploit);
    const {theme, setTheme} = useTheme();
    
    return (
        <div className="flex flex-wrap flex-col gap-1 p-4 items-start bg-card border b-2 rounded-xl">
            <h2 className="text-xl">Exploit</h2>
            <SyntaxHighlighter language="python" style={theme === "light" ? oneLight : oneDark} showLineNumbers>
                {exploitRaw}
            </SyntaxHighlighter>
        </div>
    );
}

export default ExploitCard;