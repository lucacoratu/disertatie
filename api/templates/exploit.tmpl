import requests

# The headers of the request
headers = {
{{ range $key, $value := .Headers }}  "{{ $key }}": {{ range $val := $value }}"{{ $val }}{{if $value | len | ne 1 }},{{end}}"{{end}},
{{ end -}}}

{{ if .Cookies | len | ne 0 -}}
# The cookies
cookies = {
{{ range $cookie := .Cookies }}  "{{ $cookie.Name }}": "{{ $cookie.Value }}", 
{{ end -}}}
{{ end -}}

{{ if .GetParams | len | ne 0 -}}
# GET request parameters
params = {
{{ range $key, $value := .GetParams }}  "{{ $key }}": {{ range $val := $value }}"{{ $val }}{{if $value | len | ne 1 }},{{end}}"{{end}}, 
{{ end -}}}
{{ end -}}

{{ if .PostParams | len | ne 0 }}
# Body parameters (POST, PUT, etc)
postParams = {
{{ range $key, $value := .PostParams }}  "{{ $key }}": {{ range $val := $value }}"{{ $val }}{{if $value | len | ne 1 }},{{end}}"{{end}}, 
{{ end -}}}
{{ end -}}

# The URL to send the request to
url = "{{ .URL }}"
# The body of the request
body = """{{ .Body }}"""
# Send the request
{{ if .PostParams | len | ne 0 -}}
requests.{{ .Method | ToLower }}(url, headers=headers, data=postParams, timeout=5, verify=False)
{{ else -}}
requests.{{ .Method | ToLower }}(url, headers=headers, body=body, timeout=5, verify=False)
{{ end -}}